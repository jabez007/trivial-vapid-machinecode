{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a1dc","webpack:///./src/App.vue","webpack:///./src/lib.js","webpack:///./src/mixins/indicators.js","webpack:///./src/mixins/ratio.js","webpack:///./src/mixins/signals.js","webpack:///src/overlays/MACD.vue","webpack:///./src/overlays/MACD.vue","webpack:///./src/overlays/MACD.vue?1d41","webpack:///src/App.vue","webpack:///./src/App.vue?03b3","webpack:///./src/App.vue?315a","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","loading","on","$event","$set","ref","width","height","title","ticker","overlays","staticClass","_v","directives","rawName","expression","$$selectedVal","Array","filter","target","options","selected","map","val","_value","multiple","staticRenderFns","tickerConfig","symbol","daily2ohlcv","dailyResp","dailyObj","ohlcv","keys","day","adjustment","Number","parseFloat","Date","parse","parseInt","sort","a","b","ohlcv2sma","ohlcvArray","smaWindow","sma","reduce","ohlcv2ema","emaWindow","k","ema","priceToday","emaYesterday","ohlcv2macd","fastPeriod","slowPeriod","signalPeriod","fastEma","slowEma","macdLine","fastDay","signalLine","macdDay","ohlcv2rsi","rsiWindow","calculateRsi","closingPrices","avgUpwardChange","Math","max","avgDownwardChange","rsi","gold_ohlcv","gold_onchart","gold_offchart","silver_ohlcv","silver_onchart","silver_offchart","created","self","lib","forEach","configObj","axios","baseURL","location","href","then","resp","type","settings","lineWidth","color","oc","indx","textColor","$","text","sel","legend","signalWidth","upper","lower","backColor","pop","computed","ratio_ohlcv","g","multiplier","ratio_sma200","ratio_ema50","ratio_ema20","ratio_sma9","ratio","onchart","offchart","ready","watch","newVal","onChart20ema","find","ema20offset","onChart9sma","sma9offset","offChartMacd","macdOffset","offChartRsi","rsiOffset","calculateSignal","spltrs","typicalPrice","lastBuy","findLastIndex","lastBuyTypicalPrice","lastSell","startsWith","min","toFixed","signalsData","splitters","index","signal","includes","gainLoss","replace","console","log","startingCapital","toLocaleDateString","histColor","cur","pre","mixins","Overlay","methods","meta_info","author","version","desc","preset","side","histWidth","macdWidth","defColor","macdColor","signalColor","histColors","draw","ctx","layout","$props","base","$2screen","beginPath","prev","mid","t2screen","x1","floor","px_step","x2","y","strokeStyle","hist_colors","moveTo","lineTo","stroke","macd_width","macd_color","x","q","signal_width","signal_color","use_for","values","xs","abs","calc","props","fast","def","slow","smooth","update","sett","hist_width","component","Indicators","Ratio","Signals","components","Loading","TradingVue","gold","silver","Overlays","MACD","mounted","onResize","addEventListener","beforeDestroy","removeEventListener","innerWidth","innerHeight","Vue","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.d912bd71.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/trivial-vapid-machinecode/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=c0f67c14&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('loading',{attrs:{\"active\":_vm.loading.length > 0,\"is-full-page\":true},on:{\"update:active\":function($event){return _vm.$set(_vm.loading, \"length > 0\", $event)}}}),_c('trading-vue',{ref:\"tradingVue\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"titleTxt\":_vm.title[_vm.ticker],\"data\":this[_vm.ticker],\"colorCandleUp\":\"#f6f6f6\",\"colorWickUp\":\"#f6f6f6\",\"colorVolUp\":\"#f6f6f6\",\"colorCandleDw\":\"#808080\",\"colorWickDw\":\"#808080\",\"colorVolDw\":\"#808080\",\"overlays\":_vm.overlays}}),_c('span',{staticClass:\"ticker-select\"},[_c('label',[_vm._v(\"Trading Vue\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ticker),expression:\"ticker\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.ticker=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"gold\")]),_c('option',[_vm._v(\"silver\")]),_c('option',[_vm._v(\"ratio\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const tickerConfig = [\r\n    {\r\n        symbol: \"SGOL\",\r\n        data: \"gold\"\r\n    },\r\n    {\r\n        symbol: \"SIVR\",\r\n        data: \"silver\"\r\n    },\r\n]\r\n\r\nexport function daily2ohlcv(dailyResp) {\r\n    const dailyObj = dailyResp[\"Time Series (Daily)\"]\r\n    const ohlcv = Object.keys(dailyObj)\r\n        .map((day) => {\r\n            const adjustment = (Number.parseFloat(dailyObj[day][\"5. adjusted close\"]) / Number.parseFloat(dailyObj[day][\"4. close\"])) || 1\r\n            \r\n            return [\r\n                Date.parse(day), \r\n                Number.parseFloat(dailyObj[day][\"1. open\"]) * adjustment,\r\n                Number.parseFloat(dailyObj[day][\"2. high\"]) * adjustment,\r\n                Number.parseFloat(dailyObj[day][\"3. low\"]) * adjustment,\r\n                Number.parseFloat(dailyObj[day][\"4. close\"]) * adjustment,\r\n                Number.parseInt(dailyObj[day][\"6. volume\"] || dailyObj[day][\"5. volume\"]) / adjustment\r\n            ]\r\n        })\r\n    ohlcv.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return ohlcv;\r\n}\r\n\r\nexport function ma2onchart(maResp, maType = \"SMA\") {\r\n    const maObj = maResp[`Technical Analysis: ${maType}`]\r\n    const onchart = Object.keys(maObj)\r\n        .map((day) => [\r\n            Date.parse(day),\r\n            Number.parseFloat(maObj[day][maType])\r\n        ])\r\n    onchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return onchart;\r\n}\r\n\r\nexport function macd2offchart(macdResp) {\r\n    const macdObj = macdResp[\"Technical Analysis: MACD\"]\r\n    const offchart = Object.keys(macdObj)\r\n        .map((day) => [\r\n                Date.parse(day),\r\n                Number.parseFloat(macdObj[day][\"MACD_Hist\"]),\r\n                Number.parseFloat(macdObj[day][\"MACD\"]),\r\n                Number.parseFloat(macdObj[day][\"MACD_Signal\"])\r\n            ])\r\n    offchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return offchart;\r\n}\r\n\r\nexport function stochf2offchart(stochfResp) {\r\n    const stochfObj = stochfResp[\"Technical Analysis: STOCHF\"]\r\n    const offchart = Object.keys(stochfObj)\r\n        .map((day) => [\r\n                Date.parse(day),\r\n                Number.parseFloat(stochfObj[day][\"FastK\"]),\r\n                Number.parseFloat(stochfObj[day][\"FastD\"])\r\n            ])\r\n    offchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return offchart;\r\n}\r\n\r\nexport function stochrsi2offchart(stochrsiResp) {\r\n    const stochrsiObj = stochrsiResp[\"Technical Analysis: STOCHRSI\"]\r\n    const offchart = Object.keys(stochrsiObj)\r\n        .map((day) => [\r\n                Date.parse(day),\r\n                Number.parseFloat(stochrsiObj[day][\"FastK\"]),\r\n                Number.parseFloat(stochrsiObj[day][\"FastD\"])\r\n            ])\r\n    offchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return offchart;\r\n}\r\n\r\nexport function adx2offchart(adxResp) {\r\n    const adxObj = adxResp[\"Technical Analysis: ADX\"]\r\n    const offchart = Object.keys(adxObj)\r\n        .map((day) => [\r\n                Date.parse(day),\r\n                Number.parseFloat(adxObj[day][\"ADX\"])\r\n            ])\r\n    offchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return offchart;\r\n}\r\n\r\nexport function bbands2onchart(bbandsResp) {\r\n    const bbandsObj = bbandsResp[\"Technical Analysis: BBANDS\"]\r\n    const onchart = Object.keys(bbandsObj)\r\n        .map((day) => [\r\n            Date.parse(day),\r\n            Number.parseFloat(bbandsObj[day][\"Real Upper Band\"]),\r\n            Number.parseFloat(bbandsObj[day][\"Real Middle Band\"]),\r\n            Number.parseFloat(bbandsObj[day][\"Real Lower Band\"])\r\n        ])\r\n    onchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return onchart;\r\n}\r\n\r\nexport function ad2offchart(adResp) {\r\n    const adObj = adResp[\"Technical Analysis: Chaikin A/D\"]\r\n    const offchart = Object.keys(adObj)\r\n        .map((day) => [\r\n            Date.parse(day),\r\n            Number.parseFloat(adObj[day][\"Chaikin A/D\"]),\r\n        ])\r\n    offchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return offchart;\r\n}\r\n\r\nexport function obv2offchart(obvResp) {\r\n    const obvObj = obvResp[\"Technical Analysis: OBV\"]\r\n    const offchart = Object.keys(obvObj)\r\n        .map((day) => [\r\n            Date.parse(day),\r\n            Number.parseInt(obvObj[day][\"OBV\"]),\r\n        ])\r\n    offchart.sort((a, b) => a[0] - b[0]) // All data must be sorted by time (in ascending order)\r\n    return offchart;\r\n}\r\n\r\nexport function ohlcv2sma(ohlcvArray, smaWindow) {\r\n    if (smaWindow > ohlcvArray.length || smaWindow < 1) {\r\n        return []\r\n    }\r\n    let sma = []\r\n    for (let i = smaWindow; i <= ohlcvArray.length; i++) {\r\n        sma.push([\r\n            ohlcvArray[i - 1][0], // timestamp\r\n            (ohlcvArray\r\n                .slice((i - smaWindow), i)\r\n                .map((d) => d.slice(2, 5).reduce((a, b) => a + b) / 3) // typical price\r\n                .reduce((a, b) => a + b)\r\n            ) / smaWindow\r\n        ])\r\n    }\r\n    return sma\r\n}\r\n\r\nexport function ohlcv2ema(ohlcvArray, emaWindow) {\r\n    if (emaWindow > ohlcvArray.length || emaWindow < 1) {\r\n        return []\r\n    }\r\n    const k = 2 / (emaWindow + 1)\r\n    let ema = [\r\n        [\r\n            ohlcvArray[emaWindow - 1][0], // timestamp\r\n            (ohlcvArray // The first EMA is actually an SMA?\r\n                .slice(0, emaWindow)\r\n                .map((d) => d.slice(2, 5).reduce((a, b) => a + b) / 3) // typical price\r\n                .reduce((a, b) => a + b)\r\n            ) / emaWindow\r\n        ]\r\n    ]\r\n    for (let i = emaWindow; i < ohlcvArray.length; i++) {\r\n        const priceToday = ohlcvArray[i].slice(2, 5).reduce((a, b) => a + b) / 3 // typical price\r\n        const emaYesterday = ema[ema.length - 1][1]\r\n        ema.push([\r\n            ohlcvArray[i][0],\r\n            (priceToday * k) + (emaYesterday * (1 - k))\r\n        ])\r\n    }\r\n    return ema\r\n}\r\n\r\nexport function ohlcv2macd(ohlcvArray, fastPeriod, slowPeriod, signalPeriod) {\r\n    if (fastPeriod > slowPeriod) {\r\n        return []\r\n    }\r\n    const fastEma = ohlcv2ema(ohlcvArray, fastPeriod)\r\n    const slowEma = ohlcv2ema(ohlcvArray, slowPeriod)\r\n    const macdLine = slowEma\r\n        .map((d, i) => {\r\n            const fastDay = fastEma[i + (slowPeriod - fastPeriod)] \r\n            return [\r\n                d[0],\r\n                fastDay[1] - d[1]\r\n            ]\r\n        })\r\n    //\r\n    const k = 2 / (signalPeriod + 1)\r\n    let signalLine = [\r\n        [\r\n            macdLine[signalPeriod - 1][0],\r\n            (macdLine\r\n                .slice(0, signalPeriod)\r\n                .map((d) => d[1])\r\n                .reduce((a, b) => a + b)\r\n            ) / signalPeriod\r\n        ]\r\n    ]\r\n    for (let i = signalPeriod; i < macdLine.length; i++) {\r\n        signalLine.push([\r\n            macdLine[i][0],\r\n            (macdLine[i][1] * k) + (signalLine[signalLine.length - 1][1] * (1 - k))\r\n        ])\r\n    }\r\n    //\r\n    return signalLine\r\n        .map((d, i) => {\r\n            const macdDay = macdLine[i + (signalPeriod - 1)]\r\n            return [\r\n                d[0],\r\n                macdDay[1] - d[1], // histogram\r\n                macdDay[1], // MACD Line\r\n                d[1], // Signal Line\r\n            ]\r\n        })\r\n}\r\n\r\nexport function ohlcv2rsi(ohlcvArray, rsiWindow = 14) {\r\n    if (rsiWindow > ohlcvArray.length || rsiWindow < 1) {\r\n        return []\r\n    }\r\n\r\n    function calculateRsi(closingPrices) {\r\n        // Calculate the average of the upward price changes\r\n        let avgUpwardChange = 0;\r\n        for (let i = 1; i < closingPrices.length; i++) {\r\n            avgUpwardChange += Math.max(0, closingPrices[i] - closingPrices[i - 1]);\r\n        }\r\n        avgUpwardChange /= closingPrices.length;\r\n\r\n        // Calculate the average of the downward price changes\r\n        let avgDownwardChange = 0;\r\n        for (let i = 1; i < closingPrices.length; i++) {\r\n            avgDownwardChange += Math.max(0, closingPrices[i - 1] - closingPrices[i]);\r\n        }\r\n        avgDownwardChange /= closingPrices.length;\r\n\r\n        // Calculate the RSI\r\n        const rsi = 100 - (100 / (1 + (avgUpwardChange / avgDownwardChange)));\r\n\r\n        return rsi;\r\n    }\r\n\r\n    let rsi = []\r\n    for (let i = rsiWindow; i <= ohlcvArray.length; i++) {\r\n        rsi.push([\r\n            ohlcvArray[i - 1][0], // timestamp\r\n            calculateRsi(ohlcvArray\r\n                .slice((i - rsiWindow), i)\r\n                .map((d) => d.slice(2, 5).reduce((a, b) => a + b) / 3) // typical price\r\n            )\r\n        ])\r\n    }\r\n    return rsi\r\n}","import axios from \"axios\";\r\nimport * as lib from \"../lib\"\r\n\r\nexport default {\r\n    data: () => ({\r\n        loading: [],\r\n        gold_ohlcv: [],\r\n        gold_onchart: [],\r\n        gold_offchart: [],\r\n        silver_ohlcv: [],\r\n        silver_onchart: [],\r\n        silver_offchart: [],\r\n    }),\r\n    created() {\r\n        const self = this;\r\n        lib.tickerConfig.forEach((configObj) => {\r\n            self.loading.push(true);\r\n\r\n            axios.get(`data/${configObj.symbol}.json`, { baseURL: window.location.href })\r\n                .then((resp) => {\r\n                    self[`${configObj.data}_ohlcv`] = lib.daily2ohlcv(resp.data)\r\n                \r\n                    self[`${configObj.data}_onchart`] = [\r\n                        ...self[`${configObj.data}_onchart`],\r\n                        {\r\n                            name: \"SMA, 9\",\r\n                            type: \"SMA\",\r\n                            data: lib.ohlcv2sma(self[`${configObj.data}_ohlcv`], 9),\r\n                            settings: {\r\n                                lineWidth: 1\r\n                            }\r\n                        },\r\n                        {\r\n                            name: \"EMA, 20\",\r\n                            type: \"EMA\",\r\n                            data: lib.ohlcv2ema(self[`${configObj.data}_ohlcv`], 20),\r\n                            settings: {\r\n                                lineWidth: 2\r\n                            }\r\n                        },\r\n                        {\r\n                            name: \"EMA, 50\",\r\n                            type: \"EMA\",\r\n                            data: lib.ohlcv2ema(self[`${configObj.data}_ohlcv`], 50),\r\n                            settings: {\r\n                                lineWidth: 3\r\n                            }\r\n                        },\r\n                        {\r\n                            name: \"SMA, 200\",\r\n                            type: \"SMA\",\r\n                            data: lib.ohlcv2sma(self[`${configObj.data}_ohlcv`], 200),\r\n                            settings: {\r\n                                lineWidth: 5,\r\n                                color: \"#bbbbbb\"\r\n                            }\r\n                        },\r\n                        {\r\n                            name: \"TD 9 Count Up\",\r\n                            type: \"Markers\",\r\n                            data: self[`${configObj.data}_ohlcv`]\r\n                                .reduce((oc, day, indx) => [\r\n                                    ...oc,\r\n                                    [\r\n                                        day[0],\r\n                                        {\r\n                                            color: \"#35a73d\",\r\n                                            textColor: \"#eaf6eb\",\r\n                                            $: day[2],\r\n                                            text: oc.length > 4 && day[4] > self[`${configObj.data}_ohlcv`][indx - 4][4]\r\n                                                ? oc[oc.length - 1][1].text + 1\r\n                                                : 0,\r\n                                            sel: oc.length > 4\r\n                                                ? oc[oc.length - 1][1].text === 8\r\n                                                : false\r\n                                        }\r\n                                    ]\r\n                                ], [])\r\n                                .filter((oc) => oc[1].text >= 7),\r\n                            settings: {\r\n                                legend: false,\r\n                            }\r\n                        },\r\n                        {\r\n                            name: \"TD 9 Count Down\",\r\n                            type: \"Markers\",\r\n                            data: self[`${configObj.data}_ohlcv`]\r\n                                .reduce((oc, day, indx) => [\r\n                                    ...oc,\r\n                                    [\r\n                                        day[0],\r\n                                        {\r\n                                            color: \"#e541a2\",\r\n                                            textColor: \"#fcecf5\",\r\n                                            $: day[2],\r\n                                            text: oc.length > 4 && day[4] < self[`${configObj.data}_ohlcv`][indx - 4][4]\r\n                                                ? oc[oc.length - 1][1].text + 1\r\n                                                : 0,\r\n                                            sel: oc.length > 4\r\n                                                ? oc[oc.length - 1][1].text === 8\r\n                                                : false\r\n                                        }\r\n                                    ]\r\n                                ], [])\r\n                                .filter((oc) => oc[1].text >= 7),\r\n                            settings: {\r\n                                legend: false,\r\n                            }\r\n                        }\r\n                    ]\r\n\r\n                    self[`${configObj.data}_offchart`] = [\r\n                        {\r\n                            name: \"MACD (13, 22, 9)\",\r\n                            type: \"MACD\",\r\n                            data: lib.ohlcv2macd(self[`${configObj.data}_ohlcv`], 13, 22, 9),\r\n                            settings: {\r\n                                signalWidth: 3\r\n                            }\r\n                        },\r\n                        {\r\n                            name: \"RSI, 14\",\r\n                            type: \"RSI\",\r\n                            data: lib.ohlcv2rsi(self[`${configObj.data}_ohlcv`], 14),\r\n                            settings: {\r\n                                upper: 70,\r\n                                lower: 30,\r\n                                backColor: \"#00b300\"+\"21\"\r\n                            }\r\n                        },\r\n                        ...self[`${configObj.data}_offchart`],\r\n                    ]\r\n                \r\n                    self.loading.pop()\r\n                })\r\n        })\r\n    },\r\n}","import * as lib from \"../lib\"\r\n\r\nexport default {\r\n    computed: {\r\n        ratio_ohlcv() {\r\n            const self = this;\r\n            const ohlcv = this.silver_ohlcv\r\n                .map((s, i) => {\r\n                    let g = self.gold_ohlcv[i - 32] || [] // silver has 32 more periods than gold\r\n                    if (s[0] == g[0]) { // same date\r\n                        let multiplier = g[4] > 100 ? 10: 100\r\n                        return [\r\n                            s[0],\r\n                            (g[1] * multiplier) / s[1], // open\r\n                            (g[2] * multiplier) / s[2], // high\r\n                            (g[3] * multiplier) / s[3], // low\r\n                            (g[4] * multiplier) / s[4], // close\r\n                            g[5] + s[5]  // volume\r\n                        ]\r\n                    } else {\r\n                        return []\r\n                    }\r\n                })\r\n                .filter((r) => r.length > 0)\r\n            return ohlcv;\r\n        },\r\n        ratio_sma200() {\r\n            const self = this;\r\n            return lib.ohlcv2sma(self.ratio_ohlcv, 200)   \r\n        },\r\n        ratio_ema50() {\r\n            const self = this;\r\n            return lib.ohlcv2ema(self.ratio_ohlcv, 50)   \r\n        },\r\n        ratio_ema20() {\r\n            const self = this;\r\n            return lib.ohlcv2ema(self.ratio_ohlcv, 20)   \r\n        },\r\n        ratio_sma9() {\r\n            const self = this;\r\n            return lib.ohlcv2sma(self.ratio_ohlcv, 9)   \r\n        },\r\n        ratio() {\r\n            const self = this;\r\n            return {\r\n                ohlcv: self.ratio_ohlcv,\r\n                onchart: [\r\n                    {\r\n                        name: \"SMA, 9\",\r\n                        type: \"SMA\",\r\n                        data: self.ratio_sma9,\r\n                        settings: {\r\n                            lineWidth: 1\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"EMA, 20\",\r\n                        type: \"EMA\",\r\n                        data: self.ratio_ema20,\r\n                        settings: {\r\n                            lineWidth: 2\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"EMA, 50\",\r\n                        type: \"EMA\",\r\n                        data: self.ratio_ema50,\r\n                        settings: {\r\n                            lineWidth: 3\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"SMA, 200\",\r\n                        type: \"SMA\",\r\n                        data: self.ratio_sma200,\r\n                        settings: {\r\n                            lineWidth: 5\r\n                        }\r\n                    },\r\n                    /*\r\n                    {\r\n                        name: \"TD 9 Count Up\",\r\n                        type: \"Markers\",\r\n                        data: self.ratio_ohlcv\r\n                            .reduce((oc, day, indx) => [\r\n                                ...oc,\r\n                                [\r\n                                    day[0],\r\n                                    {\r\n                                        color: \"#35a73d\",\r\n                                        textColor: \"#eaf6eb\",\r\n                                        $: day[2],\r\n                                        text: oc.length > 4 && day[4] > self.ratio_ohlcv[indx - 4][4]\r\n                                            ? oc[oc.length - 1][1].text + 1\r\n                                            : 0,\r\n                                        sel: oc.length > 4\r\n                                            ? oc[oc.length - 1][1].text === 8\r\n                                            : false\r\n                                    }\r\n                                ]\r\n                            ], [])\r\n                            .filter((oc) => oc[1].text >= 7),\r\n                        settings: {\r\n                            legend: false,\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"TD 9 Count Down\",\r\n                        type: \"Markers\",\r\n                        data: self.ratio_ohlcv\r\n                            .reduce((oc, day, indx) => [\r\n                                ...oc,\r\n                                [\r\n                                    day[0],\r\n                                    {\r\n                                        color: \"#e541a2\",\r\n                                        textColor: \"#fcecf5\",\r\n                                        $: day[2],\r\n                                        text: oc.length > 4 && day[4] < self.ratio_ohlcv[indx - 4][4]\r\n                                            ? oc[oc.length - 1][1].text + 1\r\n                                            : 0,\r\n                                        sel: oc.length > 4\r\n                                            ? oc[oc.length - 1][1].text === 8\r\n                                            : false\r\n                                    }\r\n                                ]\r\n                            ], [])\r\n                            .filter((oc) => oc[1].text >= 7),\r\n                        settings: {\r\n                            legend: false,\r\n                        }\r\n                    },\r\n                    */\r\n                    {\r\n                        name: \"Data sections\",\r\n                        type: \"Splitters\",\r\n                        data: [\r\n                            [\r\n                                self.ratio_ohlcv[self.ratio_ohlcv.length - 1][0],\r\n                                (\r\n                                    (self.ratio_ema50[self.ratio_ema50.length - 1][1] > self.ratio_sma200[self.ratio_sma200.length - 1][1])\r\n                                    &&\r\n                                    (self.ratio_ema50[self.ratio_ema50.length - 2][1] < self.ratio_ema50[self.ratio_ema50.length - 1][1])\r\n                                    &&\r\n                                    self.ratio_ohlcv[self.ratio_ohlcv.length - 1][4] > self.ratio_sma200[self.ratio_sma200.length - 1][1]\r\n                                )\r\n                                ? \"Focus on Silver\"\r\n                                : (\r\n                                    (self.ratio_ema50[self.ratio_ema50.length - 1][1] < self.ratio_sma200[self.ratio_sma200.length - 1][1])\r\n                                    &&\r\n                                    (self.ratio_ema50[self.ratio_ema50.length - 2][1] > self.ratio_ema50[self.ratio_ema50.length - 1][1])\r\n                                    &&\r\n                                    self.ratio_ohlcv[self.ratio_ohlcv.length - 1][4] < self.ratio_sma200[self.ratio_sma200.length - 1][1]\r\n                                  )\r\n                                ? \"Focus on Gold\"\r\n                                : \"HODL\",\r\n                                1,\r\n                                \"#5700ff\",\r\n                                0.5\r\n                            ]\r\n                        ],\r\n                        settings: {\r\n                            \"legend\": false,\r\n                            \"lineColor\": \"#ffd700\"\r\n                        }\r\n                    }\r\n                ],\r\n                offchart: [\r\n                    {\r\n                        name: \"MACD (13, 22, 9)\",\r\n                        type: \"MACD\",\r\n                        data: lib.ohlcv2macd(self.ratio_ohlcv, 13, 22, 9),\r\n                        settings: {\r\n                            signalWidth: 3\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"RSI, 14\",\r\n                        type: \"RSI\",\r\n                        data: lib.ohlcv2rsi(self.ratio_ohlcv, 14),\r\n                        settings: {\r\n                            upper: 70,\r\n                            lower: 30,\r\n                            backColor: \"#00b300\"+\"21\"\r\n                        }\r\n                    }\r\n                ],\r\n            }\r\n        }\r\n    }\r\n}","import { tickerConfig } from \"../lib\"\r\n\r\nexport default {\r\n    computed: {\r\n        ready() {\r\n            const self = this;\r\n            return self.loading.length === 0;\r\n        },\r\n    },\r\n    watch: {\r\n        ready(newVal) {\r\n            const self = this;\r\n            if (newVal) {\r\n                tickerConfig.forEach((configObj) => {\r\n                    const ohlcv = self[`${configObj.data}_ohlcv`]\r\n                    /*\r\n                    const onChart200sma = (self[`${configObj.data}_onchart`].find((oc) => oc.name === \"SMA, 200\")).data\r\n                    const sma200offset = ohlcv.length - onChart200sma.length\r\n                    */\r\n                    const onChart20ema = (self[`${configObj.data}_onchart`].find((oc) => oc.name === \"EMA, 20\")).data\r\n                    const ema20offset = ohlcv.length - onChart20ema.length\r\n\r\n                    const onChart9sma = (self[`${configObj.data}_onchart`].find((oc) => oc.name === \"SMA, 9\")).data\r\n                    const sma9offset = ohlcv.length - onChart9sma.length\r\n\r\n                    //const onChart9upCount = (self[`${configObj.data}_onchart`].find((oc) => oc.name === \"TD 9 Count Up\")).data\r\n                    \r\n                    const offChartMacd = (self[`${configObj.data}_offchart`].find((oc) => oc.type === \"MACD\")).data\r\n                    const macdOffset = ohlcv.length - offChartMacd.length\r\n                    \r\n                    const offChartRsi = (self[`${configObj.data}_offchart`].find((oc) => oc.type === \"RSI\")).data\r\n                    const rsiOffset = ohlcv.length - offChartRsi.length\r\n                    \r\n                    function calculateSignal(spltrs, d, indx) {\r\n                        //const currUpCount = ((onChart9upCount.filter((count) => count[0] === d[0]))[0] || [d[0], { text: 0 }])[1].text\r\n                        \r\n                        const typicalPrice = d.slice(2, 5).reduce((a, b) => a + b) / 3\r\n                        \r\n                        const lastBuy = spltrs.findLastIndex((s) => s[1] === \"BUY\") || 0\r\n                        const lastBuyTypicalPrice = (ohlcv[lastBuy] || [0, 0, 0, 0, 0, 0]).slice(2, 5).reduce((a, b) => a + b) / 3 \r\n                        \r\n                        const lastSell = spltrs.findLastIndex((s) => s[1].startsWith(\"SELL\")) || 0\r\n                        \r\n                        return (\r\n                            lastSell >= lastBuy // we're not currently bought in\r\n                            &&\r\n                            // https://www.tradingview.com/script/127zASU6-JBravo-Swing/\r\n                            Math.min(d[1], d[4]) > (onChart9sma[(indx - sma9offset)] || [0, 0])[1] // Full candle above 9SMA - buy signal from Bravo9\r\n                            &&\r\n                            ( // positive cross on the MACD\r\n                                (offChartMacd[(indx - macdOffset)] || [0, 0, 0, 0])[1] >= 0.001\r\n                                &&\r\n                                (offChartMacd[(indx - macdOffset) - 1] || [0, 0, 0, 0])[1] < (offChartMacd[(indx - macdOffset)] || [0, 0, 0, 0])[1]\r\n                            )\r\n                            &&\r\n                            ( // rising from oversold\r\n                                (offChartRsi[(indx - rsiOffset)] || [0, 0])[1] > 40\r\n                                &&\r\n                                Math.min(...offChartRsi.slice(Math.max(0, (indx - rsiOffset) - 3), (indx - rsiOffset)).map(s => s[1])) < 40\r\n                            )\r\n                        )\r\n                        ? \"BUY\"\r\n                        : (\r\n                            lastBuy > lastSell // we are currently bought in\r\n                            &&\r\n                            ( // paper \r\n                                ( // sell signals from Bravo9\r\n                                    Math.max(d[1], d[4]) < (onChart9sma[(indx - sma9offset)] || [0, 0])[1] // Full candle below 9SMA \r\n                                    ||\r\n                                    ( // Bearish candle closes below 20EMA\r\n                                        d[4] - d[1] <= -0.01\r\n                                        &&\r\n                                        d[4] - (onChart20ema[(indx - ema20offset)] || [0, 0])[1] <= -0.01 \r\n                                    )\r\n                                )\r\n                                ||\r\n                                /*\r\n                                 * Sell signal from Accurate Swing Trading System\r\n                                 * Close below the lowest low of the last 3 days\r\n                                 */\r\n                                d[4] - Math.min(...ohlcv.slice(Math.max(0, (indx - 3)), indx).map(s => s[3])) <= -0.01\r\n                                ||\r\n                                (\r\n                                    ( // negative cross on the MACD\r\n                                        (offChartMacd[(indx - macdOffset)] || [0, 0, 0, 0])[1] <= -0.001\r\n                                        &&\r\n                                        (offChartMacd[(indx - macdOffset) - 1] || [0, 0, 0, 0])[1] > (offChartMacd[(indx - macdOffset)] || [0, 0, 0, 0])[1]\r\n                                    )\r\n                                )\r\n                            )\r\n                        )\r\n                        ? `SELL ${(((typicalPrice - lastBuyTypicalPrice) / lastBuyTypicalPrice) * 100).toFixed(2)}%`\r\n                        : \"\"\r\n                    }\r\n\r\n                    const signalsData = ohlcv\r\n                        .reduce((splitters, day) => {\r\n                            const index = splitters.length\r\n                            const signal = calculateSignal(splitters, day, index)\r\n                            return [\r\n                                ...splitters,\r\n                                [\r\n                                    day[0],\r\n                                    signal,\r\n                                    1,\r\n                                    signal.startsWith(\"SELL\")\r\n                                    ? signal.includes(\"-\") ? \"#8b0000\" : \"#008b00\"\r\n                                    : \"#5700ff\",\r\n                                    signal === \"BUY\"\r\n                                    ? 0.2 \r\n                                    : signal.startsWith(\"SELL\")\r\n                                    ? 0.8\r\n                                    : 0.5,\r\n                                ]\r\n                            ]\r\n                        }, [])\r\n                        .filter((day) => day[1] !== \"\")\r\n                    \r\n                    self[`${configObj.data}_onchart`] = [\r\n                        ...self[`${configObj.data}_onchart`],\r\n                        {\r\n                            name: \"Buy/Sell Signals\",\r\n                            type: \"Splitters\",\r\n                            data: signalsData,\r\n                            settings: {\r\n                                \"legend\": false,\r\n                                \"lineColor\": \"#ffd700\"\r\n                            }\r\n                        }\r\n                    ]\r\n\r\n                    const gainLoss = signalsData\r\n                        .filter((day) => day[1].startsWith(\"SELL\"))\r\n                        .map((day) => Number.parseFloat(day[1].replace(/SELL\\s/, '').replace(/%/, '')))\r\n                    console.log(`Trade outcomes for ${configObj.symbol}: ${gainLoss}`)\r\n                    console.log(`Number of trades for ${configObj.symbol}: ${gainLoss.length}`)\r\n                    console.log(''\r\n                        +\r\n                        `Percent of profitable trades for ${configObj.symbol}: `\r\n                        +\r\n                        `${((gainLoss.filter((t) => t > 0).length / gainLoss.length) * 100).toFixed(2)}%`\r\n                    )\r\n                    console.log(''\r\n                        +\r\n                        `Average trade for ${configObj.symbol}: `\r\n                        +\r\n                        `${(gainLoss.reduce((a, b) => a + b) / gainLoss.length).toFixed(2)}%`\r\n                    )\r\n                    console.log(`Largest loosing trade for ${configObj.symbol}: ${Math.min(...gainLoss)}%`)\r\n                    const startingCapital = 1000\r\n                    console.log(''\r\n                        +\r\n                        `Starting with $${startingCapital} on ${(new Date(ohlcv[0][0])).toLocaleDateString()}, `\r\n                        +\r\n                        `ending balance for ${configObj.symbol}: `\r\n                        +\r\n                        `$${gainLoss.reduce((a, b) => a * (1 + (b / 100)), startingCapital).toFixed(2)}`\r\n                    )\r\n                })\r\n            }\r\n        },\r\n    },\r\n}","<script>\r\n\r\n// TODO: pass colors from settings to the script\r\n// TODO: hist lines => recangles (like in volbar.js)\r\n\r\nimport { Overlay } from 'trading-vue-js'\r\n\r\nfunction histColor(cur, pre) {\r\n    if (cur[1] > 0) {\r\n        if (cur[1] > (pre[1] || 0)) {\r\n            return 0\r\n        } else {\r\n            return 1\r\n        }\r\n    } else {    \r\n        if (cur[1] < (pre[1] || 0)) {\r\n            return 2\r\n        } else {\r\n            return 3\r\n        }\r\n    }\r\n}\r\n    \r\nexport default {\r\n    name: 'MACD',\r\n    mixins: [Overlay],\r\n    methods: {\r\n        meta_info() {\r\n            return {\r\n                author: 'StdSquad', version: '1.0.2',\r\n                desc: 'Moving Average Convergence/Divergence',\r\n                preset: {\r\n                    name: 'MACD $fast $slow $smooth',\r\n                    side: 'offchart',\r\n                    settings: {\r\n                        histWidth: 4,\r\n                        macdWidth: 1,\r\n                        signalWidth: 1,\r\n                        defColor: \"#42b28a\",\r\n                        macdColor: \"#3782f2\",\r\n                        signalColor: \"#f48709\",\r\n                        histColors: [\r\n                            \"#35a776\", \"#79e0b3\", \"#e54150\", \"#ea969e\"\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        draw(ctx) {\r\n            const layout = this.$props.layout\r\n\r\n            // HISTOGRAM\r\n\r\n            const base = layout.$2screen(0) + 0.5\r\n\r\n            ctx.beginPath()\r\n            \r\n            for (var i = 0; i < this.$props.data.length; i++) {\r\n                let p = this.$props.data[i]\r\n                let prev = this.$props.data[i - 1] || []\r\n                \r\n                let mid = layout.t2screen(p[0]) + 1 \r\n                let x1 = Math.floor(mid - layout.px_step * 0.5)\r\n                let x2 = Math.floor(mid + layout.px_step * 0.5) - 0.5\r\n                \r\n                let y = layout.$2screen(p[1]) - 0.5\r\n\r\n                ctx.strokeStyle = this.hist_colors[histColor(p, prev)]\r\n                ctx.lineWidth = x2 - x1\r\n                ctx.beginPath()\r\n                ctx.moveTo(mid, base)\r\n                ctx.lineTo(mid, y)\r\n                ctx.stroke()\r\n            }\r\n\r\n            // MACD LINE\r\n\r\n            ctx.beginPath()\r\n\r\n            ctx.lineWidth = this.macd_width\r\n            ctx.strokeStyle = this.macd_color\r\n\r\n            for (var p of this.$props.data) {\r\n                let x = layout.t2screen(p[0])\r\n                let y = layout.$2screen(p[2])\r\n                ctx.lineTo(x, y)\r\n            }\r\n\r\n            ctx.stroke()\r\n\r\n            // SIGNAL LINE\r\n\r\n            ctx.beginPath()\r\n\r\n            ctx.lineWidth = this.signal_width\r\n            ctx.strokeStyle = this.signal_color\r\n\r\n            for (var q of this.$props.data) {\r\n                let x = layout.t2screen(q[0])\r\n                let y = layout.$2screen(q[3])\r\n                ctx.lineTo(x, y)\r\n            }\r\n\r\n            ctx.stroke()\r\n\r\n\r\n        },\r\n        use_for() { return ['MACD'] },\r\n        legend(values) {\r\n            let xs = values.slice(1,4).map(x => {\r\n                return x.toFixed(Math.abs(x) > 0.001 ? 4 : 8)\r\n            })\r\n            return [\r\n                {value: xs[0], color: this.hist_colors[values[1] > 0 ? 0 : 2]},\r\n                {value: xs[1], color: this.macd_color},\r\n                {value: xs[2], color: this.signal_color}\r\n            ]\r\n        },\r\n        calc() {\r\n            return {\r\n                props: {\r\n                    fast: { def: 12, text: 'Fast Length' },\r\n                    slow: { def: 26, text: 'Slow Length' },\r\n                    smooth: { def: 9, text: 'Signal EMA' }\r\n                },\r\n                update: `\r\n                    let [macd, signal, hist] =\r\n                        macd(close, fast, slow, smooth)\r\n\r\n                    if (hist[0] >= 0) {\r\n                         var color = 0\r\n                         if (hist[0] < hist[1]) color = 1\r\n                    } else {\r\n                        color = 2\r\n                        if (hist[0] > hist[1]) color = 3\r\n                    }\r\n\r\n                    return [hist[0], macd[0], signal[0], color]\r\n                `\r\n            }\r\n        }\r\n    },\r\n    // Define internal setting & constants here\r\n    computed: {\r\n        sett() {\r\n            return this.$props.settings\r\n        },\r\n        hist_width() {\r\n            return this.sett.histWidth || 4\r\n        },\r\n        macd_width() {\r\n            return this.sett.macdWidth || 1\r\n        },\r\n        signal_width() {\r\n            return this.sett.signalWidth || 1\r\n        },\r\n        color() {\r\n            return this.sett.defColor || \"#42b28a\"\r\n        },\r\n        macd_color() {\r\n            return this.sett.macdColor || \"#3782f2\"\r\n        },\r\n        signal_color() {\r\n            return this.sett.signalColor || \"#f48709\"\r\n        },\r\n        hist_colors() {\r\n            return this.sett.histColors || [\r\n                \"#35a776\", \"#79e0b3\", \"#e54150\", \"#ea969e\"\r\n            ]\r\n        }\r\n    }\r\n}\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./MACD.vue?vue&type=script&lang=js\"\nexport * from \"./MACD.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MACD.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MACD.vue?vue&type=script&lang=js\"","<template>\r\n  <div>\r\n      <loading\r\n          :active.sync=\"loading.length > 0\"\r\n          :is-full-page=\"true\"\r\n      ></loading>\r\n      <trading-vue\r\n          ref=\"tradingVue\"\r\n          :width=\"width\"\r\n          :height=\"height\"\r\n          :titleTxt=\"title[ticker]\"\r\n          :data=\"this[ticker]\"\r\n          colorCandleUp=\"#f6f6f6\"\r\n          colorWickUp=\"#f6f6f6\"\r\n          colorVolUp=\"#f6f6f6\"\r\n          colorCandleDw=\"#808080\"\r\n          colorWickDw=\"#808080\"\r\n          colorVolDw=\"#808080\"\r\n          :overlays=\"overlays\"\r\n      ></trading-vue>\r\n      <span class=\"ticker-select\">\r\n          <label>Trading Vue</label>\r\n          <select v-model=\"ticker\">\r\n              <option>gold</option>\r\n              <option>silver</option>\r\n              <option>ratio</option>\r\n          </select>\r\n      </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from \"vue-loading-overlay\";\r\nimport { TradingVue } from \"trading-vue-js\";\r\nimport Overlays from 'tvjs-overlays';\r\nimport Indicators from \"./mixins/indicators\"\r\nimport Ratio from \"./mixins/ratio\"\r\nimport Signals from \"./mixins/signals\"\r\nimport MACD from \"./overlays/MACD.vue\";\r\n\r\nimport \"vue-loading-overlay/dist/vue-loading.css\";\r\n  \r\nexport default {\r\n  mixins: [\r\n      Indicators,\r\n      Ratio,\r\n      Signals,\r\n  ],\r\n  components: {\r\n      Loading,\r\n      TradingVue\r\n  },\r\n  data: () => ({\r\n      ticker: \"ratio\",\r\n      title: {\r\n          gold: \"SGOL\",\r\n          silver: \"SIVR\",\r\n          ratio: \"SGOL / SIVR\",\r\n      },\r\n      width: 0,\r\n      height: 0,\r\n      overlays: [\r\n          Overlays['Markers'],\r\n          MACD, \r\n      ],\r\n  }),\r\n  computed: {\r\n      gold() {\r\n          const self = this;\r\n          return {\r\n              ohlcv: self.gold_ohlcv,\r\n              onchart: self.gold_onchart,\r\n              offchart: self.gold_offchart,\r\n          }\r\n      },\r\n      silver() {\r\n          const self = this;\r\n          return {\r\n              ohlcv: self.silver_ohlcv,\r\n              onchart: self.silver_onchart,\r\n              offchart: self.silver_offchart,\r\n          }\r\n      },\r\n  },\r\n  mounted() {\r\n      this.onResize();\r\n      window.addEventListener('resize', this.onResize);\r\n  },\r\n  beforeDestroy() {\r\n       window.removeEventListener('resize', this.onResize);\r\n  },\r\n  methods: {\r\n      onResize() {\r\n          this.width = window.innerWidth;\r\n          this.height = window.innerHeight;\r\n      },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  background-color: #000;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.ticker-select {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 80px;\r\n  color: #888;\r\n  font: 11px -apple-system,BlinkMacSystemFont,\r\n      Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,\r\n      Fira Sans,Droid Sans,Helvetica Neue,\r\n      sans-serif\r\n}\r\n\r\n.ticker-select label {\r\n  margin: 1rem;\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c0f67c14\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=c0f67c14&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n"],"sourceRoot":""}